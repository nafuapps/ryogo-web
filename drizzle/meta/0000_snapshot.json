{
  "id": "98a51b66-8376-4f31-9634-e31199990371",
  "prevId": "00000000-0000-0000-0000-000000000000",
  "version": "7",
  "dialect": "postgresql",
  "tables": {
    "public.agencies": {
      "name": "agencies",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "business_name": {
          "name": "business_name",
          "type": "varchar(30)",
          "primaryKey": false,
          "notNull": true
        },
        "business_phone": {
          "name": "business_phone",
          "type": "varchar(10)",
          "primaryKey": false,
          "notNull": true
        },
        "business_email": {
          "name": "business_email",
          "type": "varchar(60)",
          "primaryKey": false,
          "notNull": true
        },
        "business_address": {
          "name": "business_address",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "logo_url": {
          "name": "logo_url",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "subscriptionPlan": {
          "name": "subscriptionPlan",
          "type": "subscription_plan",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'trial'"
        },
        "subscription_expires_on": {
          "name": "subscription_expires_on",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "agency_status",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'new'"
        },
        "default_commission_rate": {
          "name": "default_commission_rate",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 15
        },
        "location_id": {
          "name": "location_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {
        "agencies_subscription_expiry_idx": {
          "name": "agencies_subscription_expiry_idx",
          "columns": [
            {
              "expression": "subscription_expires_on",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "agencies_status_idx": {
          "name": "agencies_status_idx",
          "columns": [
            {
              "expression": "status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "agencies_location_idx": {
          "name": "agencies_location_idx",
          "columns": [
            {
              "expression": "location_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "agencies_location_id_locations_id_fk": {
          "name": "agencies_location_id_locations_id_fk",
          "tableFrom": "agencies",
          "tableTo": "locations",
          "columnsFrom": [
            "location_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {
        "commission_rate >= 0 AND commission_rate <= 100": {
          "name": "commission_rate >= 0 AND commission_rate <= 100",
          "value": "\"agencies\".\"default_commission_rate\" >= 0 AND \"agencies\".\"default_commission_rate\" <= 100"
        }
      },
      "isRLSEnabled": false
    },
    "public.bookings": {
      "name": "bookings",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "agency_id": {
          "name": "agency_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "customer_id": {
          "name": "customer_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "assigned_vehicle_id": {
          "name": "assigned_vehicle_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "assigned_driver_id": {
          "name": "assigned_driver_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "booked_by_user_id": {
          "name": "booked_by_user_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "assigned_user_id": {
          "name": "assigned_user_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "source_id": {
          "name": "source_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "destination_id": {
          "name": "destination_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "route_id": {
          "name": "route_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "total_distance": {
          "name": "total_distance",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "start_date": {
          "name": "start_date",
          "type": "date",
          "primaryKey": false,
          "notNull": true
        },
        "end_date": {
          "name": "end_date",
          "type": "date",
          "primaryKey": false,
          "notNull": true
        },
        "start_time": {
          "name": "start_time",
          "type": "time",
          "primaryKey": false,
          "notNull": false
        },
        "type": {
          "name": "type",
          "type": "booking_type",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'OneWay'"
        },
        "passengers": {
          "name": "passengers",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 1
        },
        "needs_ac": {
          "name": "needs_ac",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "remarks": {
          "name": "remarks",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "rate_per_km": {
          "name": "rate_per_km",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "allowance_per_day": {
          "name": "allowance_per_day",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "commission_rate": {
          "name": "commission_rate",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "total_amount": {
          "name": "total_amount",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "rating_by_driver": {
          "name": "rating_by_driver",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "booking_status",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'quote'"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {
        "bookings_agency_idx": {
          "name": "bookings_agency_idx",
          "columns": [
            {
              "expression": "agency_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "bookings_agency_status_idx": {
          "name": "bookings_agency_status_idx",
          "columns": [
            {
              "expression": "status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "agency_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "bookings_agency_customer_idx": {
          "name": "bookings_agency_customer_idx",
          "columns": [
            {
              "expression": "customer_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "agency_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "bookings_agency_assigned_user_idx": {
          "name": "bookings_agency_assigned_user_idx",
          "columns": [
            {
              "expression": "assigned_user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "agency_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "bookings_agency_booked_by_user_idx": {
          "name": "bookings_agency_booked_by_user_idx",
          "columns": [
            {
              "expression": "booked_by_user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "agency_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "bookings_agency_driver_idx": {
          "name": "bookings_agency_driver_idx",
          "columns": [
            {
              "expression": "assigned_driver_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "agency_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "bookings_agency_vehicle_idx": {
          "name": "bookings_agency_vehicle_idx",
          "columns": [
            {
              "expression": "assigned_vehicle_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "agency_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "bookings_agency_start_date_idx": {
          "name": "bookings_agency_start_date_idx",
          "columns": [
            {
              "expression": "start_date",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "agency_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "bookings_agency_end_date_idx": {
          "name": "bookings_agency_end_date_idx",
          "columns": [
            {
              "expression": "end_date",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "agency_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "bookings_agency_source_idx": {
          "name": "bookings_agency_source_idx",
          "columns": [
            {
              "expression": "source_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "agency_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "bookings_agency_destination_idx": {
          "name": "bookings_agency_destination_idx",
          "columns": [
            {
              "expression": "destination_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "agency_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "bookings_agency_route_idx": {
          "name": "bookings_agency_route_idx",
          "columns": [
            {
              "expression": "route_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "agency_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "bookings_agency_type_idx": {
          "name": "bookings_agency_type_idx",
          "columns": [
            {
              "expression": "type",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "agency_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "bookings_agency_id_agencies_id_fk": {
          "name": "bookings_agency_id_agencies_id_fk",
          "tableFrom": "bookings",
          "tableTo": "agencies",
          "columnsFrom": [
            "agency_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "bookings_customer_id_customers_id_fk": {
          "name": "bookings_customer_id_customers_id_fk",
          "tableFrom": "bookings",
          "tableTo": "customers",
          "columnsFrom": [
            "customer_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "bookings_assigned_vehicle_id_vehicles_id_fk": {
          "name": "bookings_assigned_vehicle_id_vehicles_id_fk",
          "tableFrom": "bookings",
          "tableTo": "vehicles",
          "columnsFrom": [
            "assigned_vehicle_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        },
        "bookings_assigned_driver_id_drivers_id_fk": {
          "name": "bookings_assigned_driver_id_drivers_id_fk",
          "tableFrom": "bookings",
          "tableTo": "drivers",
          "columnsFrom": [
            "assigned_driver_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        },
        "bookings_booked_by_user_id_users_id_fk": {
          "name": "bookings_booked_by_user_id_users_id_fk",
          "tableFrom": "bookings",
          "tableTo": "users",
          "columnsFrom": [
            "booked_by_user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        },
        "bookings_assigned_user_id_users_id_fk": {
          "name": "bookings_assigned_user_id_users_id_fk",
          "tableFrom": "bookings",
          "tableTo": "users",
          "columnsFrom": [
            "assigned_user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        },
        "bookings_source_id_locations_id_fk": {
          "name": "bookings_source_id_locations_id_fk",
          "tableFrom": "bookings",
          "tableTo": "locations",
          "columnsFrom": [
            "source_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        },
        "bookings_destination_id_locations_id_fk": {
          "name": "bookings_destination_id_locations_id_fk",
          "tableFrom": "bookings",
          "tableTo": "locations",
          "columnsFrom": [
            "destination_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        },
        "bookings_route_id_routes_id_fk": {
          "name": "bookings_route_id_routes_id_fk",
          "tableFrom": "bookings",
          "tableTo": "routes",
          "columnsFrom": [
            "route_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {
        "commission_rate >= 0 AND commission_rate <= 100": {
          "name": "commission_rate >= 0 AND commission_rate <= 100",
          "value": "\"bookings\".\"commission_rate\" >= 0 AND \"bookings\".\"commission_rate\" <= 100"
        },
        "passengers > 0 and < 100": {
          "name": "passengers > 0 and < 100",
          "value": "\"bookings\".\"passengers\" > 0 AND \"bookings\".\"passengers\" < 100"
        },
        "rate per km > 0 and < 50": {
          "name": "rate per km > 0 and < 50",
          "value": "\"bookings\".\"rate_per_km\" > 0 AND \"bookings\".\"rate_per_km\" < 50"
        },
        "allowance >= 0 and allowance < 10000": {
          "name": "allowance >= 0 and allowance < 10000",
          "value": "\"bookings\".\"allowance_per_day\" >= 0 AND \"bookings\".\"allowance_per_day\" < 10000"
        },
        "end_date >= start_date": {
          "name": "end_date >= start_date",
          "value": "\"bookings\".\"end_date\" >= \"bookings\".\"start_date\""
        },
        "total_amount > 0 and < 1000000": {
          "name": "total_amount > 0 and < 1000000",
          "value": "\"bookings\".\"total_amount\" > 0 AND \"bookings\".\"total_amount\" < 1000000"
        },
        "rating >=1 and rating <=5": {
          "name": "rating >=1 and rating <=5",
          "value": "\"bookings\".\"rating_by_driver\" >=1 AND \"bookings\".\"rating_by_driver\" <=5"
        }
      },
      "isRLSEnabled": false
    },
    "public.customers": {
      "name": "customers",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "agency_id": {
          "name": "agency_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "varchar(30)",
          "primaryKey": false,
          "notNull": true
        },
        "phone": {
          "name": "phone",
          "type": "varchar(10)",
          "primaryKey": false,
          "notNull": true
        },
        "email": {
          "name": "email",
          "type": "varchar(60)",
          "primaryKey": false,
          "notNull": false
        },
        "address": {
          "name": "address",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "added_by_user_id": {
          "name": "added_by_user_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "location_id": {
          "name": "location_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "customer_status",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'active'"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {
        "customers_agency_phone_idx": {
          "name": "customers_agency_phone_idx",
          "columns": [
            {
              "expression": "phone",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "agency_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": true,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "customers_agency_idx": {
          "name": "customers_agency_idx",
          "columns": [
            {
              "expression": "agency_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "customers_agency_user_idx": {
          "name": "customers_agency_user_idx",
          "columns": [
            {
              "expression": "added_by_user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "agency_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "customers_agency_status_idx": {
          "name": "customers_agency_status_idx",
          "columns": [
            {
              "expression": "status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "agency_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "customers_agency_location_idx": {
          "name": "customers_agency_location_idx",
          "columns": [
            {
              "expression": "location_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "agency_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "customers_phone_idx": {
          "name": "customers_phone_idx",
          "columns": [
            {
              "expression": "phone",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "customers_agency_id_agencies_id_fk": {
          "name": "customers_agency_id_agencies_id_fk",
          "tableFrom": "customers",
          "tableTo": "agencies",
          "columnsFrom": [
            "agency_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "customers_added_by_user_id_users_id_fk": {
          "name": "customers_added_by_user_id_users_id_fk",
          "tableFrom": "customers",
          "tableTo": "users",
          "columnsFrom": [
            "added_by_user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        },
        "customers_location_id_locations_id_fk": {
          "name": "customers_location_id_locations_id_fk",
          "tableFrom": "customers",
          "tableTo": "locations",
          "columnsFrom": [
            "location_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "customers_phone_agency_id_unique": {
          "name": "customers_phone_agency_id_unique",
          "nullsNotDistinct": false,
          "columns": [
            "phone",
            "agency_id"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.driver_leaves": {
      "name": "driver_leaves",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "agency_id": {
          "name": "agency_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "driver_id": {
          "name": "driver_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "added_by_user_id": {
          "name": "added_by_user_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "start_date": {
          "name": "start_date",
          "type": "date",
          "primaryKey": false,
          "notNull": true
        },
        "end_date": {
          "name": "end_date",
          "type": "date",
          "primaryKey": false,
          "notNull": true
        },
        "remarks": {
          "name": "remarks",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {
        "driver_leaves_agency_driver_idx": {
          "name": "driver_leaves_agency_driver_idx",
          "columns": [
            {
              "expression": "driver_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "agency_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "driver_leaves_agency_user_idx": {
          "name": "driver_leaves_agency_user_idx",
          "columns": [
            {
              "expression": "added_by_user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "agency_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "driver_leaves_agency_start_date_idx": {
          "name": "driver_leaves_agency_start_date_idx",
          "columns": [
            {
              "expression": "start_date",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "agency_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "driver_leaves_agency_end_date_idx": {
          "name": "driver_leaves_agency_end_date_idx",
          "columns": [
            {
              "expression": "end_date",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "agency_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "driver_leaves_agency_id_agencies_id_fk": {
          "name": "driver_leaves_agency_id_agencies_id_fk",
          "tableFrom": "driver_leaves",
          "tableTo": "agencies",
          "columnsFrom": [
            "agency_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "driver_leaves_driver_id_drivers_id_fk": {
          "name": "driver_leaves_driver_id_drivers_id_fk",
          "tableFrom": "driver_leaves",
          "tableTo": "drivers",
          "columnsFrom": [
            "driver_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "driver_leaves_added_by_user_id_users_id_fk": {
          "name": "driver_leaves_added_by_user_id_users_id_fk",
          "tableFrom": "driver_leaves",
          "tableTo": "users",
          "columnsFrom": [
            "added_by_user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {
        "end_date >= start_date": {
          "name": "end_date >= start_date",
          "value": "\"driver_leaves\".\"end_date\" >= \"driver_leaves\".\"start_date\""
        }
      },
      "isRLSEnabled": false
    },
    "public.drivers": {
      "name": "drivers",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "agency_id": {
          "name": "agency_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "user_id": {
          "name": "user_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "varchar(30)",
          "primaryKey": false,
          "notNull": true
        },
        "phone": {
          "name": "phone",
          "type": "varchar(10)",
          "primaryKey": false,
          "notNull": true
        },
        "address": {
          "name": "address",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "license_number": {
          "name": "license_number",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": true
        },
        "license_expires_on": {
          "name": "license_expires_on",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "driver_status",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'available'"
        },
        "canDriveVehicleTypes": {
          "name": "canDriveVehicleTypes",
          "type": "vehicle_types[]",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'{\"car\"}'"
        },
        "default_allowance_per_day": {
          "name": "default_allowance_per_day",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 500
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {
        "drivers_agency_phone_idx": {
          "name": "drivers_agency_phone_idx",
          "columns": [
            {
              "expression": "phone",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "agency_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": true,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "drivers_user_idx": {
          "name": "drivers_user_idx",
          "columns": [
            {
              "expression": "user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": true,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "drivers_agency_idx": {
          "name": "drivers_agency_idx",
          "columns": [
            {
              "expression": "agency_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "drivers_agency_status_idx": {
          "name": "drivers_agency_status_idx",
          "columns": [
            {
              "expression": "status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "agency_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "drivers_agency_drive_type_idx": {
          "name": "drivers_agency_drive_type_idx",
          "columns": [
            {
              "expression": "canDriveVehicleTypes",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "agency_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "drivers_agency_id_agencies_id_fk": {
          "name": "drivers_agency_id_agencies_id_fk",
          "tableFrom": "drivers",
          "tableTo": "agencies",
          "columnsFrom": [
            "agency_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "drivers_user_id_users_id_fk": {
          "name": "drivers_user_id_users_id_fk",
          "tableFrom": "drivers",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "drivers_user_id_unique": {
          "name": "drivers_user_id_unique",
          "nullsNotDistinct": false,
          "columns": [
            "user_id"
          ]
        },
        "drivers_phone_agency_id_unique": {
          "name": "drivers_phone_agency_id_unique",
          "nullsNotDistinct": false,
          "columns": [
            "phone",
            "agency_id"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {
        "allowance >=0 and < 10000": {
          "name": "allowance >=0 and < 10000",
          "value": "\"drivers\".\"default_allowance_per_day\" >=0 AND \"drivers\".\"default_allowance_per_day\" < 10000"
        }
      },
      "isRLSEnabled": false
    },
    "public.expenses": {
      "name": "expenses",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "agency_id": {
          "name": "agency_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "booking_id": {
          "name": "booking_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "added_by_user_id": {
          "name": "added_by_user_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "type": {
          "name": "type",
          "type": "expense_types",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "amount": {
          "name": "amount",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "remarks": {
          "name": "remarks",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "photo_url": {
          "name": "photo_url",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "is_approved": {
          "name": "is_approved",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {
        "expenses_booking_idx": {
          "name": "expenses_booking_idx",
          "columns": [
            {
              "expression": "booking_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "expenses_booking_type_idx": {
          "name": "expenses_booking_type_idx",
          "columns": [
            {
              "expression": "type",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "booking_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "expenses_booking_approved_idx": {
          "name": "expenses_booking_approved_idx",
          "columns": [
            {
              "expression": "is_approved",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "booking_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "expenses_agency_user_idx": {
          "name": "expenses_agency_user_idx",
          "columns": [
            {
              "expression": "added_by_user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "agency_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "expenses_agency_id_agencies_id_fk": {
          "name": "expenses_agency_id_agencies_id_fk",
          "tableFrom": "expenses",
          "tableTo": "agencies",
          "columnsFrom": [
            "agency_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "expenses_booking_id_bookings_id_fk": {
          "name": "expenses_booking_id_bookings_id_fk",
          "tableFrom": "expenses",
          "tableTo": "bookings",
          "columnsFrom": [
            "booking_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "expenses_added_by_user_id_users_id_fk": {
          "name": "expenses_added_by_user_id_users_id_fk",
          "tableFrom": "expenses",
          "tableTo": "users",
          "columnsFrom": [
            "added_by_user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {
        "amount > 0 and < 1000000": {
          "name": "amount > 0 and < 1000000",
          "value": "\"expenses\".\"amount\" > 0 AND \"expenses\".\"amount\" < 1000000"
        }
      },
      "isRLSEnabled": false
    },
    "public.locations": {
      "name": "locations",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "city": {
          "name": "city",
          "type": "varchar(30)",
          "primaryKey": false,
          "notNull": true
        },
        "state": {
          "name": "state",
          "type": "varchar(30)",
          "primaryKey": false,
          "notNull": true
        },
        "lat_long": {
          "name": "lat_long",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {
        "locations_city_state_idx": {
          "name": "locations_city_state_idx",
          "columns": [
            {
              "expression": "city",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "state",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": true,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "locations_active_idx": {
          "name": "locations_active_idx",
          "columns": [
            {
              "expression": "is_active",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "locations_city_state_unique": {
          "name": "locations_city_state_unique",
          "nullsNotDistinct": false,
          "columns": [
            "city",
            "state"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.routes": {
      "name": "routes",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "source_id": {
          "name": "source_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "destination_id": {
          "name": "destination_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "distance": {
          "name": "distance",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "estimated_time": {
          "name": "estimated_time",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {
        "routes_source_destination_idx": {
          "name": "routes_source_destination_idx",
          "columns": [
            {
              "expression": "source_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "destination_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": true,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "routes_source_idx": {
          "name": "routes_source_idx",
          "columns": [
            {
              "expression": "source_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "routes_destination_idx": {
          "name": "routes_destination_idx",
          "columns": [
            {
              "expression": "destination_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "routes_active_idx": {
          "name": "routes_active_idx",
          "columns": [
            {
              "expression": "is_active",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "routes_source_id_locations_id_fk": {
          "name": "routes_source_id_locations_id_fk",
          "tableFrom": "routes",
          "tableTo": "locations",
          "columnsFrom": [
            "source_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "routes_destination_id_locations_id_fk": {
          "name": "routes_destination_id_locations_id_fk",
          "tableFrom": "routes",
          "tableTo": "locations",
          "columnsFrom": [
            "destination_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "routes_source_id_destination_id_unique": {
          "name": "routes_source_id_destination_id_unique",
          "nullsNotDistinct": false,
          "columns": [
            "source_id",
            "destination_id"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {
        "distance > 0 and < 5000": {
          "name": "distance > 0 and < 5000",
          "value": "\"routes\".\"distance\" > 0 AND \"routes\".\"distance\" < 5000"
        },
        "time > 0 and < 10000": {
          "name": "time > 0 and < 10000",
          "value": "\"routes\".\"estimated_time\" > 0 AND \"routes\".\"estimated_time\" < 10000"
        }
      },
      "isRLSEnabled": false
    },
    "public.transactions": {
      "name": "transactions",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "agency_id": {
          "name": "agency_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "booking_id": {
          "name": "booking_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "added_by_user_id": {
          "name": "added_by_user_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "amount": {
          "name": "amount",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "otherParty": {
          "name": "otherParty",
          "type": "transaction_parties",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'customer'"
        },
        "type": {
          "name": "type",
          "type": "transaction_types",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "mode": {
          "name": "mode",
          "type": "transaction_modes",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'cash'"
        },
        "remarks": {
          "name": "remarks",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "is_approved": {
          "name": "is_approved",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {
        "transactions_booking_idx": {
          "name": "transactions_booking_idx",
          "columns": [
            {
              "expression": "booking_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "transactions_booking_type_idx": {
          "name": "transactions_booking_type_idx",
          "columns": [
            {
              "expression": "type",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "booking_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "transactions_booking_party_idx": {
          "name": "transactions_booking_party_idx",
          "columns": [
            {
              "expression": "otherParty",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "booking_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "transactions_booking_approved_idx": {
          "name": "transactions_booking_approved_idx",
          "columns": [
            {
              "expression": "is_approved",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "booking_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "transactions_agency_user_idx": {
          "name": "transactions_agency_user_idx",
          "columns": [
            {
              "expression": "added_by_user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "agency_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "transactions_agency_id_agencies_id_fk": {
          "name": "transactions_agency_id_agencies_id_fk",
          "tableFrom": "transactions",
          "tableTo": "agencies",
          "columnsFrom": [
            "agency_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "transactions_booking_id_bookings_id_fk": {
          "name": "transactions_booking_id_bookings_id_fk",
          "tableFrom": "transactions",
          "tableTo": "bookings",
          "columnsFrom": [
            "booking_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "transactions_added_by_user_id_users_id_fk": {
          "name": "transactions_added_by_user_id_users_id_fk",
          "tableFrom": "transactions",
          "tableTo": "users",
          "columnsFrom": [
            "added_by_user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {
        "amount > 0 and < 1000000": {
          "name": "amount > 0 and < 1000000",
          "value": "\"transactions\".\"amount\" > 0 AND \"transactions\".\"amount\" < 1000000"
        }
      },
      "isRLSEnabled": false
    },
    "public.trip_logs": {
      "name": "trip_logs",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "booking_id": {
          "name": "booking_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "agency_id": {
          "name": "agency_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "vehicle_id": {
          "name": "vehicle_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "driver_id": {
          "name": "driver_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "odometer_reading": {
          "name": "odometer_reading",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "type": {
          "name": "type",
          "type": "trip_log_types",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "remarks": {
          "name": "remarks",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "photo_url": {
          "name": "photo_url",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "lat_long": {
          "name": "lat_long",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {
        "trip_logs_booking_idx": {
          "name": "trip_logs_booking_idx",
          "columns": [
            {
              "expression": "booking_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "trip_logs_booking_type_idx": {
          "name": "trip_logs_booking_type_idx",
          "columns": [
            {
              "expression": "type",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "booking_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "trip_logs_agency_vehicle_idx": {
          "name": "trip_logs_agency_vehicle_idx",
          "columns": [
            {
              "expression": "vehicle_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "agency_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "trip_logs_agency_driver_idx": {
          "name": "trip_logs_agency_driver_idx",
          "columns": [
            {
              "expression": "driver_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "agency_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "trip_logs_booking_id_bookings_id_fk": {
          "name": "trip_logs_booking_id_bookings_id_fk",
          "tableFrom": "trip_logs",
          "tableTo": "bookings",
          "columnsFrom": [
            "booking_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "trip_logs_agency_id_agencies_id_fk": {
          "name": "trip_logs_agency_id_agencies_id_fk",
          "tableFrom": "trip_logs",
          "tableTo": "agencies",
          "columnsFrom": [
            "agency_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "trip_logs_vehicle_id_vehicles_id_fk": {
          "name": "trip_logs_vehicle_id_vehicles_id_fk",
          "tableFrom": "trip_logs",
          "tableTo": "vehicles",
          "columnsFrom": [
            "vehicle_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        },
        "trip_logs_driver_id_drivers_id_fk": {
          "name": "trip_logs_driver_id_drivers_id_fk",
          "tableFrom": "trip_logs",
          "tableTo": "drivers",
          "columnsFrom": [
            "driver_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {
        "odometer >= 0 and < 1000000": {
          "name": "odometer >= 0 and < 1000000",
          "value": "\"trip_logs\".\"odometer_reading\" >= 0 AND \"trip_logs\".\"odometer_reading\" < 1000000"
        }
      },
      "isRLSEnabled": false
    },
    "public.users": {
      "name": "users",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "agency_id": {
          "name": "agency_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "varchar(30)",
          "primaryKey": false,
          "notNull": true
        },
        "phone": {
          "name": "phone",
          "type": "varchar(10)",
          "primaryKey": false,
          "notNull": true
        },
        "email": {
          "name": "email",
          "type": "varchar(60)",
          "primaryKey": false,
          "notNull": true
        },
        "password_hash": {
          "name": "password_hash",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "photo_url": {
          "name": "photo_url",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "userRole": {
          "name": "userRole",
          "type": "user_roles",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'agent'"
        },
        "status": {
          "name": "status",
          "type": "agency_status",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'new'"
        },
        "last_login": {
          "name": "last_login",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "login_valid_till": {
          "name": "login_valid_till",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {
        "users_agency_role_phone_idx": {
          "name": "users_agency_role_phone_idx",
          "columns": [
            {
              "expression": "agency_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "phone",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "userRole",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": true,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "users_agency_idx": {
          "name": "users_agency_idx",
          "columns": [
            {
              "expression": "agency_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "users_agency_phone_idx": {
          "name": "users_agency_phone_idx",
          "columns": [
            {
              "expression": "phone",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "agency_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "users_agency_role_idx": {
          "name": "users_agency_role_idx",
          "columns": [
            {
              "expression": "userRole",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "agency_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "users_agency_status_idx": {
          "name": "users_agency_status_idx",
          "columns": [
            {
              "expression": "status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "agency_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "users_agency_id_agencies_id_fk": {
          "name": "users_agency_id_agencies_id_fk",
          "tableFrom": "users",
          "tableTo": "agencies",
          "columnsFrom": [
            "agency_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "users_agency_id_phone_userRole_unique": {
          "name": "users_agency_id_phone_userRole_unique",
          "nullsNotDistinct": false,
          "columns": [
            "agency_id",
            "phone",
            "userRole"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.vehicle_services": {
      "name": "vehicle_services",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "agency_id": {
          "name": "agency_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "vehicle_id": {
          "name": "vehicle_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "added_by_user_id": {
          "name": "added_by_user_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "start_date": {
          "name": "start_date",
          "type": "date",
          "primaryKey": false,
          "notNull": true
        },
        "end_date": {
          "name": "end_date",
          "type": "date",
          "primaryKey": false,
          "notNull": true
        },
        "remarks": {
          "name": "remarks",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {
        "vehicle_services_agency_vehicle_idx": {
          "name": "vehicle_services_agency_vehicle_idx",
          "columns": [
            {
              "expression": "vehicle_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "agency_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "vehicle_services_agency_user_idx": {
          "name": "vehicle_services_agency_user_idx",
          "columns": [
            {
              "expression": "added_by_user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "agency_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "vehicle_services_agency_start_date_idx": {
          "name": "vehicle_services_agency_start_date_idx",
          "columns": [
            {
              "expression": "start_date",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "agency_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "vehicle_services_agency_end_date_idx": {
          "name": "vehicle_services_agency_end_date_idx",
          "columns": [
            {
              "expression": "end_date",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "agency_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "vehicle_services_agency_id_agencies_id_fk": {
          "name": "vehicle_services_agency_id_agencies_id_fk",
          "tableFrom": "vehicle_services",
          "tableTo": "agencies",
          "columnsFrom": [
            "agency_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "vehicle_services_vehicle_id_vehicles_id_fk": {
          "name": "vehicle_services_vehicle_id_vehicles_id_fk",
          "tableFrom": "vehicle_services",
          "tableTo": "vehicles",
          "columnsFrom": [
            "vehicle_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "vehicle_services_added_by_user_id_users_id_fk": {
          "name": "vehicle_services_added_by_user_id_users_id_fk",
          "tableFrom": "vehicle_services",
          "tableTo": "users",
          "columnsFrom": [
            "added_by_user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {
        "end_date >= start_date": {
          "name": "end_date >= start_date",
          "value": "\"vehicle_services\".\"end_date\" >= \"vehicle_services\".\"start_date\""
        }
      },
      "isRLSEnabled": false
    },
    "public.vehicles": {
      "name": "vehicles",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "agency_id": {
          "name": "agency_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "vehicle_number": {
          "name": "vehicle_number",
          "type": "varchar(15)",
          "primaryKey": false,
          "notNull": true
        },
        "brand": {
          "name": "brand",
          "type": "varchar(30)",
          "primaryKey": false,
          "notNull": true
        },
        "model": {
          "name": "model",
          "type": "varchar(30)",
          "primaryKey": false,
          "notNull": true
        },
        "color": {
          "name": "color",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": true
        },
        "insurance_expires_on": {
          "name": "insurance_expires_on",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "puc_expires_on": {
          "name": "puc_expires_on",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "odometer_reading": {
          "name": "odometer_reading",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "capacity": {
          "name": "capacity",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 4
        },
        "has_ac": {
          "name": "has_ac",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true
        },
        "type": {
          "name": "type",
          "type": "vehicle_types",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'car'"
        },
        "status": {
          "name": "status",
          "type": "vehicle_status",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'available'"
        },
        "doc_url": {
          "name": "doc_url",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false
        },
        "default_rate_per_km": {
          "name": "default_rate_per_km",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 18
        },
        "extra_ac_charge_per_day": {
          "name": "extra_ac_charge_per_day",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {
        "vehicles_agency_vehicle_number_idx": {
          "name": "vehicles_agency_vehicle_number_idx",
          "columns": [
            {
              "expression": "vehicle_number",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "agency_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": true,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "vehicles_agency_idx": {
          "name": "vehicles_agency_idx",
          "columns": [
            {
              "expression": "agency_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "vehicles_agency_status_idx": {
          "name": "vehicles_agency_status_idx",
          "columns": [
            {
              "expression": "status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "agency_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "vehicles_agency_type_idx": {
          "name": "vehicles_agency_type_idx",
          "columns": [
            {
              "expression": "type",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "agency_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "vehicles_agency_capacity_idx": {
          "name": "vehicles_agency_capacity_idx",
          "columns": [
            {
              "expression": "capacity",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "agency_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "vehicles_agency_ac_idx": {
          "name": "vehicles_agency_ac_idx",
          "columns": [
            {
              "expression": "has_ac",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "agency_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "vehicles_agency_id_agencies_id_fk": {
          "name": "vehicles_agency_id_agencies_id_fk",
          "tableFrom": "vehicles",
          "tableTo": "agencies",
          "columnsFrom": [
            "agency_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "vehicles_vehicle_number_agency_id_unique": {
          "name": "vehicles_vehicle_number_agency_id_unique",
          "nullsNotDistinct": false,
          "columns": [
            "vehicle_number",
            "agency_id"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {
        "capacity > 0 and < 100": {
          "name": "capacity > 0 and < 100",
          "value": "\"vehicles\".\"capacity\" > 0 AND \"vehicles\".\"capacity\" < 100"
        },
        "odometer >= 0 and < 1000000": {
          "name": "odometer >= 0 and < 1000000",
          "value": "\"vehicles\".\"odometer_reading\" >= 0 AND \"vehicles\".\"odometer_reading\" < 1000000"
        },
        "rate per km > 0 and < 50": {
          "name": "rate per km > 0 and < 50",
          "value": "\"vehicles\".\"default_rate_per_km\" > 0 AND \"vehicles\".\"default_rate_per_km\" < 50"
        },
        "ac charge < 10000": {
          "name": "ac charge < 10000",
          "value": "\"vehicles\".\"extra_ac_charge_per_day\" < 10000"
        }
      },
      "isRLSEnabled": false
    }
  },
  "enums": {
    "public.agency_status": {
      "name": "agency_status",
      "schema": "public",
      "values": [
        "new",
        "active",
        "expired",
        "suspended"
      ]
    },
    "public.booking_status": {
      "name": "booking_status",
      "schema": "public",
      "values": [
        "quote",
        "confirmed",
        "in_progress",
        "completed",
        "cancelled",
        "reconciled"
      ]
    },
    "public.booking_type": {
      "name": "booking_type",
      "schema": "public",
      "values": [
        "OneWay",
        "Round",
        "MultiDay"
      ]
    },
    "public.customer_status": {
      "name": "customer_status",
      "schema": "public",
      "values": [
        "active",
        "inactive",
        "suspended"
      ]
    },
    "public.driver_status": {
      "name": "driver_status",
      "schema": "public",
      "values": [
        "available",
        "on_trip",
        "inactive",
        "suspended"
      ]
    },
    "public.expense_types": {
      "name": "expense_types",
      "schema": "public",
      "values": [
        "fuel",
        "toll",
        "parking",
        "maintenance",
        "ac",
        "food",
        "other"
      ]
    },
    "public.subscription_plan": {
      "name": "subscription_plan",
      "schema": "public",
      "values": [
        "trial",
        "premium"
      ]
    },
    "public.transaction_modes": {
      "name": "transaction_modes",
      "schema": "public",
      "values": [
        "cash",
        "card",
        "upi",
        "other"
      ]
    },
    "public.transaction_parties": {
      "name": "transaction_parties",
      "schema": "public",
      "values": [
        "driver",
        "customer"
      ]
    },
    "public.transaction_types": {
      "name": "transaction_types",
      "schema": "public",
      "values": [
        "debit",
        "credit"
      ]
    },
    "public.trip_log_types": {
      "name": "trip_log_types",
      "schema": "public",
      "values": [
        "start_trip",
        "end_trip",
        "arrived",
        "pickup",
        "drop"
      ]
    },
    "public.user_roles": {
      "name": "user_roles",
      "schema": "public",
      "values": [
        "agent",
        "owner",
        "admin",
        "driver"
      ]
    },
    "public.user_status": {
      "name": "user_status",
      "schema": "public",
      "values": [
        "new",
        "inactive",
        "active",
        "suspended"
      ]
    },
    "public.vehicle_status": {
      "name": "vehicle_status",
      "schema": "public",
      "values": [
        "available",
        "on_trip",
        "inactive",
        "suspended"
      ]
    },
    "public.vehicle_types": {
      "name": "vehicle_types",
      "schema": "public",
      "values": [
        "car",
        "bike",
        "bus",
        "other",
        "truck"
      ]
    }
  },
  "schemas": {},
  "sequences": {},
  "roles": {},
  "policies": {},
  "views": {},
  "_meta": {
    "columns": {},
    "schemas": {},
    "tables": {}
  }
}